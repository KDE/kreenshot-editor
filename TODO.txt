TODO
----
- move pimpl forward decl to private: class Impl; ImplPtr* d;              cpp: A::Impl ...
- cmd line: new-from-file instead of treat-as-new
- bug: open file which should not be new but it says [new file]
    - bug: open file via open says it was a "new file"
- implement SelectionHandles
    - best way to make the item resize?
    - BUG: create item, create another item by clicking the selection handle, move one of the items
      => position jumps to 0,0. WHY?
- see /home/gregor/kdesrc/kde/kdegraphics/kolourpaint/cursors/
- Crop: implement Enter and Esc
- mouse over: draw a light version of the selection rects
- enable more item properties (see item.h/cpp)
- enable hover visual
- makes sure line has a bigger catch area when trying to move
- key movement of items
- use more KreenGraphicsItemBase::graphicsItem()
- add context menu to select tools
- add handles for rect resizing and line repositioning (as extra class)
    - Ctrl for propertional
- draw arrow
- The QGraphicsProxyWidget class provides a proxy layer for embedding a QWidget in a QGraphicsScene
- think about it: File->New with same filename as before is not good
    - add postfix?
    - set new datetime (has no effect if preferences are not set accordingly)
        - apply changed prefs for new document (output path) without restart
    - just use empty filename?

IDEAS
-----
- In toolbar: combobox for applying preset properties (content depends on current tool)
    - "image object" is also a tool (todo)
        - insert from file
        - insert from clipboard
    - same props => same preset name? --> yes, but per tool
- Arrow/line, 4 buttons in props toolbar for arrow top: none, start, end, both
- Replacement for Imageviewer:
    Select no tool: zoom to fit. Any tool or Select: zoom 100%, show edit toolbar
- rounded rect
        //painter.setPen(QPen(Qt::darkGreen, 3, Qt::DotLine, Qt::RoundCap, Qt::RoundJoin));
        //painter.drawRoundRect(100, 200, 100, 200, 10, 10);

LATER
-----
- Obfuscate:
    - ggf. nochmal probieren: jedes Bild upToAnItem einzeln rendern und das dann jeweils als baseImage verwenden
- select no tool => zoom to fit
- New file => create new filename instead of keeping the old one
- BUG:
    - Select Tool selected
    - with mouse over an item ("move" cursor is shown)
    - Hit ESC => "move" cursor switches to normal and one has to move mouse to restore it
- new: KreenColorButton with transparency handling etc
- remove default QGraphicsItem selection marquee
- cmake for testdata: file(COPY yourDir DESTINATION yourDestination)
- PageOutput Settings: file format combobox should use setModel(), QAbstractItemModel,
    be an own widget and show also description
- OpenSuseBuild service
    - pak: run unit tests after build
- Ctrl+Shift+C: copy image to clipboard
    - show message flash, when done (or KMessageBox, "show never again")
    - plus: provide drag source for DND
- Open last save location
- lib: provide different kinds of mainwidget
   - with or without toolbar
   - with some predefined stuff etc.
- Select a Item
  - Controls for common properties appear
     - most recently used or pinned colors
     - slider for line width
     - slider for font size
     - slider for arrow tip typ?
- AFTER UndoManager is complete:
    - write filename in title and full path in status bar (<path> [change...])
        let appear in windows title and in filename --> statusbar / ...edit pattern...
        [NEW] ...
        *  ... (see mainwindow.cpp)
- "Open last file storage location" or "Open storage location"
- Drag source for image in toolbar
    - this can currently been achieved by lauching default viewer (Ctrl+Alt+L) and use drag source from there
- DND:
    - Drop image on scene to create an image object not implemented yet.\nDrop the image anywhere else on the window to load it as new base image.
    - better: not not distinguish between window and scene => maybe show a context menu or similar
- DND: support dropping images from HTTP browser
    // TODO: support also http images
- "Copy filename to clipboard": show notification that something was copied; show warning if file is not saved yet
- how to read/use the scalable image (svg)?
     //baseImage = QIcon::fromTheme("kcmkwm").pixmap(QSize(512, 512)).toImage();
- ? click on empty space should choose Select tool
- ? use m4 to generate settings class
- ? use #pragma once? (non-standard) / replace it as soon as someone sees a problem
